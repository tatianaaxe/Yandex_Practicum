# Анализ оттока клиентов банка

## Навыки и инструменты

- **python**
- **pandas**
- **numpy**
- **scipy**
- **math**
  

# Описание проекта

*В «Метанпромбанк» требуется аналитик, уверенно владеющий Python. Вашими главными задачами станут анализ оттока клиентов и сегментирование пользователей банка. Сегментация покажет, как клиенты пользуются нашими услугами. 
В проектах этой доменной области вы будете анализировать взаимосвязи и создадите несколько видов визуализаций.
Анализ оттока регионального банка, сегментирование пользователей по признакам отточности и формирование рекомендаций.*  


Необходимо проанализировать клиентов регионального банка и выделить сегменты клиентов, которые склонны уходить из банка.  
Провести исследовательский анализ данных, определены все значимые признаки отточности (интервалы значений характеристик, которые связаны с повышенным оттоком, сравнение портретов типичных клиентов, которые склонны и не склонны уходить из банка и т.д)  
Сформулировать и проверить статистические гипотезы.  
Проверить гипотезу различия дохода между теми клиентами, которые ушли и теми, которые остались.  
Сформулировать дополнительные статистические гипотезы относительно представленных данных, которые помогут внести ясность в исследование.  
Объединяя признаки отточности, сформировать сегменты, отобрать из них лучшие и дать по ним рекомендации.  

## План работы

### Подготовка данных:
- форматирование стиля столбцов, корректировка формата данных, удаление дубликатов, анализ гистограмм;
- анализ природы пропусков (возраст, баланс) и их разумная обработка (создать новый признак, принимающий 1, если в наблюдении пропущено значение признака, и 0, если в наблюдении значение признака не пропущено. Далее этот признак использовать как столбец сводной таблицы, где по каждому признаку будет посчитана мера центральной тендеции . Цель такого анализа - найти зависимости пропусков от данных или подтвердить отсутствие таких зависимостей.);  
- кодирование (для использования в анализе корреляции).


### EDA:
- анализ распределения признаков, в тч в разрезе оттока (непрерывные - ищем отточные интервалы, категориальные/дискретные - ищем значения признака с оттоком выше, чем по банку):  
1. Непрерывные признаки: их мы анализируем, чтобы найти интервалы признака, на которых отток выше, чем лояльность;
2. Категориальные/дискретные признаки: их мы анализируем, чтобы понять, какое из значений категориального признака более или менее склонно к оттоку;
- анализ портретов клиентов в разрезе оттока; 
- корреляционный анализ (в тч интерпретация).
- портрет клиента (меры центральной тендецнии, описывающие портреты клиентов, собрать в виде таблицы, и по каждому признаку между сегментами будет посчитана относительная разница);
        
   
### Проверка статистических гипотез:
- различия дохода между теми клиентами, которые ушли и теми, которые остались
- самостоятельная гипотеза (зависимость оттока от пола, возраста клиентов, города).
- обоснование выбора теста (ЦПТ, дисперсии,бинарность значений)


### Подведение промежуточных итогов  
- выводы по результатам EDA, корреляционного анализа и гипотез, выделение признаков, влияющих на оттток.

На этом этапе выбрать признаки, которые лягут в основу сегментации, а также перечислить их - выбор нужно делать по результатам EDA, корреляции и гипотез, при этом признаки и их значения/интервалы должны соответствовать выводам из EDA в разрезе оттока.
        
Не стоит выделять много сегментирующих признаков, чтобы сегменты не получились слишком узкими - так мы не сможем охватывать много клиентов в пределах сегмента, и это повышает риск того, что мероприятие по удержанию клиентов не окажется эффективным.
        
С другой стороны, слишком широкие сегменты в погоней за высоким уровнем оттока тоже не стоит делаать - к таким сегментам сложно подобрать рекомендации, и мы рисуем не удержать никого.
    


### Сегментация (неузкие сегменты (от 500 клиентов на сегмент);  
отток лучше, чем средний уровень оттока по банку).  
Выделить сегмент, который будет состаять из 2-3 признаков. По итогу нужно выделить не менее 3ех сегментов, в которых отток более, чем средний по банку.    

Также очень важно пояснить, каким именно образом проводится сегментация - очевидно, что по результатам работы в прошлых блоках выделенные признаки будут каким-то образом проранжированы и определены их интервалы, включающие наибольший процент оттока клиентов - это стоит отметить в предисловии к сегментации.
    
Также для каждого сегмента стоит указать:  
- признаки, положенные в основу сегмента, и выбранные значения/интервалы для поиска оттока;  
- количество клиентов в сегменте, количество отточных клиентов в сегменте;  
- уровень оттока в сегменте как отношение отточных клиентов к их общему количеству.  
        
Нужно сделать __не менее трёх сегментов__ с уровнем оттока в сегменте выше среднебанковского. Каждый сегмент должен включать __не менее 500__ клиентов.
 
</div>    


### Приоритизация сегментов.  


Отдел маректинга включает только двух работников, у них нет автоматизированных систем, поэтому все мероприятия, рассылки и агитации будут выполнены ручным трудом. Поэтому важно приоритизировать сегменты, чтобы маркетинг знал, на что обратить внимание в первую очередь в случае, если ресурсов маркетинга не хватит на охват всех выделенных сегментов. Тут важно также пояснить, каким образом они приоритизируются. Наиболее очевидное решение - по мере убывания отточных клиентов, но можно придумать свой алгоритм.


### Формирование рекомендаций (таргетированных) по работе с ними


Рекомендации не должны быть общими: стоит избегать общих фраз вроде `повысить качество услуг`, `разработать новые продукты`, `предложить льготные условия` и чего-то в таком духе - рекомендации должны учитывать наполнение сегментов и признаки, которые легли в её основу.

## Формирование таргетированных рекомендаций
### Рекомендации по сегменту №1  

Самый зажиточный сегмент, которому даже кредитные карты не нужны. Судя по всему, эти клиенты нашли лучшие условия обслуживания в других местах, поскольку они много обращаются в банки и им важно качество оказания услуг - которое они могут себе позволить.  

Можно создать в Ярославле отдел для работы с ВИП-клиентами и предлагать эту услугу для людей с высокими суммами расчетов и  лояльных клиентов с большим количеством банковских продуктов - чтобы они не захотели уйти. Также придется лично обзвонить ушедших клиентов из получившегося сегмента и предложить им вернуться с левел-апом в обслуживании.

### Рекомендации по сегменту №2  

Здесь мы видим в качестве отточных клиентов мужчин средних лет с довольно высокой заработной платой, балансом и большим количеством собственности. Можно предположить, что ипотека их не заинтересует, на вклады положить большую сумму они не рискнут из-за отсутствия страхового покрытия (выше 1,4 млн руб.), но может быть желание купить что-то, что не позволяет зарплата - и в этом поможет кредитная карта.  
Для таких клиентов можно сформировать предложение по кредитным картам с льготным начальным периодом. 

### Рекомендации по сегменту №3  

В этот сегмент попали более молодые клиенты с доходом ниже, чем в других сегментах.  
Таких людей могут заинтересовать инвестиционные услуги - они достаточно молоды, чтобы следовать тенденциям и стремятся к большему доходу. Можно направить рассылку с предложением открыть брокерский счет бесплатно.

### Приоритизация сегментов
В первую очередь можно заняться клиентами из второго сегмента -  их больше и для них можно создать однотипную стандартную рассылку.  

Во вторую очередь необходимо проверить готовность специалистов по инвестициям к массовой обратной связи потенциальным клиентам, а после совместно с ними подготовить рекламный продукт, который можно выводить как в третий сегмент, так и на широкую публику.

Наибольшей подготовки и временных затрат потребует первый сегмент. Сначала необходимо создать процесс, а если он уже есть - убедиться, что тот качественно работает. После этого потребуется лично показать, что услуга повышенного комфорта работает, чтобы бывшие-будущие клиенты сразу оценили ее плюсы и захотели вернуться., а для этого придется их всех обзвонить и даже пригласить на прием.
