# Исследование объявлений о продаже квартир

Задача:
В распоряжении данные сервиса Яндекс.Недвижимость — архив объявлений о продаже квартир в Санкт-Петербурге и соседних населённых пунктов за несколько лет. Нужно научиться определять рыночную стоимость объектов недвижимости. Задача — установить параметры. Это позволит построить автоматизированную систему: она отследит аномалии и мошенническую деятельность. 

По каждой квартире на продажу доступны два вида данных. Первые вписаны пользователем, вторые — получены автоматически на основе картографических данных. Например, расстояние до центра, аэропорта, ближайшего парка и водоёма. 

# Общий вывод
1. Проанализирован датафрейм, выявлены столбцы с пропусками и некорректными форматами данных.
2. Проведена предобработка данных:

- Переименованы столбцы таблицы: cityCenters_nearest': 'city_centers_nearest',
                     'parks_around3000': 'parks_around_3000', 
                     'ponds_around3000': 'ponds_around_3000
- По высоте потолков ceiling_height пропуски и значения выше 4.1 (9195 и 49 строк) заполнены медианным значением 2.65 м.
- По жилой площади living_area 1903 пустых значения заполнены медианным значением в зависимости от количества комнат в квартире.
- По флагу апартаменты is_apartment значения переведены в булевы. 1-апартаменты, 0-нет.
- По балконам balcony пропуски (11519 строк) приравнены к отсутствию балкона.
- Количество дней публикации объявления days_exposition: 3181 пропусков. Баг-репорт: возможно, произошел сбой при выгрузке по столбцу days_exposition, поскольку значения NaN по 3181 строкам, хотя с токи зрения выгрузки они не могут отсутствовать. Возможно, такое значение стоит для объявлений, которые удалили в день публикации.
- Заменен формат с вещественного на дату по 'first_day_exposition'
- Приведены к общему виду уникальные значения среди населенных пунктов по столбцу locality_name

2. Добавлены новые столбцы для дальнейшего исследования:

- Цена одного квадратного метра;
- День недели публикации объявления (0 — понедельник, 1 — вторник и так далее);
- Месяц публикации объявления;
- Год публикации объявления;
- Тип этажа квартиры (значения — «‎первый», «последний», «другой»);
- Расстояние до центра города в километрах.

3. Исследованы параметры объектов недвижимости:

- Большинство квартир в выборке общей площадью от 20 до 150 кв.м, при этом жилая площадь составляет от 13 до 100 кв.м, а площадь кухни - от 5 до 25 кв.м.

- Большинство предложений стоит 4-5 млн, много квартир в пределах 30 млн рублей, хотя встречается и более дорогое жилье (возможно, есть корреляция между аномально большими площадями и высокой стоимостью).

- Стандартная квартира будет состоять не более, чем из 5 комнат (в большинстве 1-3 комнаты) и находиться не выше 20-го этажа в домах стандартной этажности (5, 9, 12, 16, 25 этажей).

- Максимальная высота потолков была приведена к 4,1 метра. Медианное значение составляет 2,65 м.

- Большинство квартир продается в черте города, но это объясняется и большим количеством квартир в городе в принципе, чем в деревне за 30 или 50 км от Санкт-Петербурга.

- Квартиры распределены географически равномерно относительно аэропорта. Однако есть данные о 310 квартирах, расположенных в пределах километра от аэропорта, это кажется неправдоподобным.

- Картографические данные есть по находящимся вблизи паркам и прудам - вероятно, при отдалении больше, чем на 1-5 километров, эта информация становится не актуальной для покупателя.

- Объявления о продаже публикуют чаще всего в будни весной (с февраля по апрель) или осенью. В январские и майские праздники люди, вероятно, не хотят заниматься продажей своей собственности.

4. Исследовано, как быстро продавались квартиры:
- Значения от 232 до 500 дней можно считать необычно долгими. 
- Выше 500 - выбросы. 
- Продажи от 1 до 45 дней можно считать быстрыми.

5. Исследовано, какие факторы больше всего влияют на общую (полную) стоимость объекта:
- Наибольшая корреляция между стоимостью квартиру и общей площадью (0.66). Меньше между стоимостью и жилой площадью (0.57), площадью кухни(0.46) и количеством комнат (0,52).

- Нет явной корреляции между стоимостью и типом этажа (0.07)
- Между датой, месяцем, годом публикации объявления корреляция нелинейная. 
- Во все дни недели и месяцы года медианная стоимость примерно одинаковая. Самые дорогие квартиры продают во вторник и в среду (4,7 млн) в апреле (4,8 млн руб.). Самые дешевые - в выходные (4,55 млн руб.) в июне (4,4 млн руб.). 
- В 2014 году цена была выше всего - 6,8 млн руб. Дальше было существенное падение и только в 2019 году стоимость начала расти - 5,05 млн руб.

6.  Исследована средняя цена одного квадратного метра в 10 населённых пунктах с наибольшим числом объявлений:
- Наибольшее количество объявлений в наиболее крупных административных единицах. Очевидно наиболее высокая средняя цена за квадратный метр в Санкт-Петербурге (114 849 руб.), наиболее низкая - в Выборге (58 142 руб.). Также дорогой метр в Пушкине (103 126 руб.), Кудрово (92 474 руб.) и Парголово(90 176 руб.).

7.  Исследована средняя цена каждого километра:
- Самая высокая цена за кв.метр 131835.0 - в 6 км от центра. Не совсем ясно, почему в пределах 1-5 км от центра цена ниже, хотя все еще остается высокой (108469.5 - 128485.0). Возможно, дело в состоянии жилого фонда.

- Начиная с 14-го км от центра стоимость метра начинае снижаться и к 22 километру становится ниже в полтора раза (88781.5).

Резюме: больше всего предложений с 1-3 комнатными квартирами с общей площадью от 20 до 150 кв.м в домах стандартной этажности, с ценовыми предложениями от 4-5 млн до 30 млн рублей. Желательно проанализировать, продолжила ли рост стоимость после 2019 года. При этом цена жилья зависит от географического положения: дороже к центру Петербурга (131 835,00 руб. за кв.м) и дешевле в других городах - из наиболее популярных, самая низкая цена в в Выборге (58 142 руб.).
